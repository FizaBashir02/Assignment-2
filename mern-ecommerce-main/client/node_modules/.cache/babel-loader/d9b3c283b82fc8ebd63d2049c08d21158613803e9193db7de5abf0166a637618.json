{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\mern-ecommerce-main\\\\mern-ecommerce-main\\\\client\\\\src\\\\Context\\\\CartItemsProvider.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { CartItemsContext } from \"./CartItemsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartItemsProvider = props => {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const [totalAmountOfItems, setTotalAmountOfItems] = useState(0);\n  const addToCartHandler = (item, quantity) => {\n    const {\n      _id,\n      name,\n      price,\n      image,\n      category,\n      size\n    } = item;\n    removeFromCartHandler(item);\n    setCartItems(prevItems => [...prevItems, {\n      _id,\n      name,\n      price,\n      image,\n      category,\n      itemQuantity: quantity,\n      size\n    }]);\n  };\n  const removeFromCartHandler = item => {\n    setCartItems(cartItems.filter(prevItem => prevItem._id !== item._id));\n  };\n  const calculateTotalAmount = currentCartItems => {\n    let total = 0;\n    currentCartItems.forEach(item => {\n      total = total + item.price * item.itemQuantity;\n    });\n    setTotalAmountOfItems(total);\n  };\n  const quantityHandler = (itemId, action) => {\n    if (action === 'INC') {\n      setCartItems(cartItems.map(item => {\n        if (item.id === itemId) {\n          item.itemQuantity += 1;\n        }\n        return item;\n      }));\n    } else {\n      setCartItems(cartItems.map(item => {\n        if (item.id === itemId) {\n          item.itemQuantity -= 1;\n        }\n        return item;\n      }));\n    }\n  };\n  useEffect(() => {\n    calculateTotalAmount(cartItems);\n  }, [cartItems]);\n  const cartItemCtx = {\n    items: cartItems,\n    totalAmount: totalAmountOfItems,\n    addItem: addToCartHandler,\n    removeItem: removeFromCartHandler,\n    quantity: quantityHandler\n  };\n  return /*#__PURE__*/_jsxDEV(CartItemsContext.Provider, {\n    value: cartItemCtx,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(CartItemsProvider, \"DYDzgisv8Gwc86XG5bUvJJgCBy8=\");\n_c = CartItemsProvider;\nexport default CartItemsProvider;\nvar _c;\n$RefreshReg$(_c, \"CartItemsProvider\");","map":{"version":3,"names":["useEffect","useState","CartItemsContext","jsxDEV","_jsxDEV","CartItemsProvider","props","_s","cartItems","setCartItems","totalAmountOfItems","setTotalAmountOfItems","addToCartHandler","item","quantity","_id","name","price","image","category","size","removeFromCartHandler","prevItems","itemQuantity","filter","prevItem","calculateTotalAmount","currentCartItems","total","forEach","quantityHandler","itemId","action","map","id","cartItemCtx","items","totalAmount","addItem","removeItem","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/pc/Desktop/mern-ecommerce-main/mern-ecommerce-main/client/src/Context/CartItemsProvider.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { CartItemsContext } from \"./CartItemsContext\";\r\n\r\nconst CartItemsProvider = (props) => {\r\n\r\n    const [cartItems, setCartItems] = useState([])\r\n    const [totalAmountOfItems, setTotalAmountOfItems] = useState(0)\r\n    \r\n    const addToCartHandler = (item, quantity) => {\r\n        const { _id, name, price, image, category, size} = item;\r\n        removeFromCartHandler(item)\r\n        setCartItems((prevItems) => [...prevItems, {_id, name, price, image, category, itemQuantity: quantity, size}])\r\n    }\r\n\r\n    const removeFromCartHandler = (item) => {\r\n        setCartItems(cartItems.filter((prevItem) => prevItem._id !== item._id))\r\n    }\r\n\r\n    const calculateTotalAmount = (currentCartItems) => {\r\n        let total = 0\r\n        currentCartItems.forEach((item) => {\r\n            total = total + (item.price * item.itemQuantity)\r\n        })\r\n\r\n        setTotalAmountOfItems(total)\r\n    }\r\n\r\n    const quantityHandler = (itemId, action) => {\r\n        if(action === 'INC'){\r\n            setCartItems(cartItems.map((item) => {\r\n                if(item.id  === itemId){\r\n                    item.itemQuantity += 1\r\n                }\r\n                return item\r\n            }))\r\n        }\r\n        else {\r\n            setCartItems(cartItems.map((item) => {\r\n                if(item.id  === itemId){\r\n                    item.itemQuantity -= 1\r\n                }\r\n                return item\r\n            }))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        calculateTotalAmount(cartItems)\r\n    }, [cartItems])\r\n\r\n\r\n    const cartItemCtx = {\r\n        items: cartItems,\r\n        totalAmount: totalAmountOfItems,\r\n        addItem: addToCartHandler,\r\n        removeItem: removeFromCartHandler,\r\n        quantity: quantityHandler\r\n    }\r\n\r\n    return ( \r\n        <CartItemsContext.Provider value={cartItemCtx}>\r\n            {props.children}\r\n        </CartItemsContext.Provider>\r\n     );\r\n}\r\n \r\nexport default CartItemsProvider;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,gBAAgB,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,iBAAiB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAEjC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACS,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EAE/D,MAAMW,gBAAgB,GAAGA,CAACC,IAAI,EAAEC,QAAQ,KAAK;IACzC,MAAM;MAAEC,GAAG;MAAEC,IAAI;MAAEC,KAAK;MAAEC,KAAK;MAAEC,QAAQ;MAAEC;IAAI,CAAC,GAAGP,IAAI;IACvDQ,qBAAqB,CAACR,IAAI,CAAC;IAC3BJ,YAAY,CAAEa,SAAS,IAAK,CAAC,GAAGA,SAAS,EAAE;MAACP,GAAG;MAAEC,IAAI;MAAEC,KAAK;MAAEC,KAAK;MAAEC,QAAQ;MAAEI,YAAY,EAAET,QAAQ;MAAEM;IAAI,CAAC,CAAC,CAAC;EAClH,CAAC;EAED,MAAMC,qBAAqB,GAAIR,IAAI,IAAK;IACpCJ,YAAY,CAACD,SAAS,CAACgB,MAAM,CAAEC,QAAQ,IAAKA,QAAQ,CAACV,GAAG,KAAKF,IAAI,CAACE,GAAG,CAAC,CAAC;EAC3E,CAAC;EAED,MAAMW,oBAAoB,GAAIC,gBAAgB,IAAK;IAC/C,IAAIC,KAAK,GAAG,CAAC;IACbD,gBAAgB,CAACE,OAAO,CAAEhB,IAAI,IAAK;MAC/Be,KAAK,GAAGA,KAAK,GAAIf,IAAI,CAACI,KAAK,GAAGJ,IAAI,CAACU,YAAa;IACpD,CAAC,CAAC;IAEFZ,qBAAqB,CAACiB,KAAK,CAAC;EAChC,CAAC;EAED,MAAME,eAAe,GAAGA,CAACC,MAAM,EAAEC,MAAM,KAAK;IACxC,IAAGA,MAAM,KAAK,KAAK,EAAC;MAChBvB,YAAY,CAACD,SAAS,CAACyB,GAAG,CAAEpB,IAAI,IAAK;QACjC,IAAGA,IAAI,CAACqB,EAAE,KAAMH,MAAM,EAAC;UACnBlB,IAAI,CAACU,YAAY,IAAI,CAAC;QAC1B;QACA,OAAOV,IAAI;MACf,CAAC,CAAC,CAAC;IACP,CAAC,MACI;MACDJ,YAAY,CAACD,SAAS,CAACyB,GAAG,CAAEpB,IAAI,IAAK;QACjC,IAAGA,IAAI,CAACqB,EAAE,KAAMH,MAAM,EAAC;UACnBlB,IAAI,CAACU,YAAY,IAAI,CAAC;QAC1B;QACA,OAAOV,IAAI;MACf,CAAC,CAAC,CAAC;IACP;EACJ,CAAC;EAEDb,SAAS,CAAC,MAAM;IACZ0B,oBAAoB,CAAClB,SAAS,CAAC;EACnC,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAGf,MAAM2B,WAAW,GAAG;IAChBC,KAAK,EAAE5B,SAAS;IAChB6B,WAAW,EAAE3B,kBAAkB;IAC/B4B,OAAO,EAAE1B,gBAAgB;IACzB2B,UAAU,EAAElB,qBAAqB;IACjCP,QAAQ,EAAEgB;EACd,CAAC;EAED,oBACI1B,OAAA,CAACF,gBAAgB,CAACsC,QAAQ;IAACC,KAAK,EAAEN,WAAY;IAAAO,QAAA,EACzCpC,KAAK,CAACoC;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAEpC,CAAC;AAAAvC,EAAA,CA7DKF,iBAAiB;AAAA0C,EAAA,GAAjB1C,iBAAiB;AA+DvB,eAAeA,iBAAiB;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}